{"ast":null,"code":"import _toConsumableArray from\"/Users/a000/Desktop/react-soc-2/my-react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/a000/Desktop/react-soc-2/my-react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{getProfile,getProfileStatus,setProfileStatus}from\"../components/api/api\";var GET_PROFILE='GET_PROFILE';var LOAD='LOAD';var SET_STATUS='SET_STATUS';var SET_POST='SET_POST';var initialState={profileInfo:null,isLoaded:false,status:'',posts:[]};var profileReducer=function profileReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case GET_PROFILE:return _objectSpread(_objectSpread({},state),{},{profileInfo:_objectSpread({},action.profileInfo)});case LOAD:return _objectSpread(_objectSpread({},state),{},{isLoaded:action.isLoaded});case SET_STATUS:return _objectSpread(_objectSpread({},state),{},{status:action.status});case SET_POST:return _objectSpread(_objectSpread({},state),{},{posts:[].concat(_toConsumableArray(state.posts),[action.post])});default:return state;}};var setProfile=function setProfile(profileInfo){return{type:GET_PROFILE,profileInfo:profileInfo};};var load=function load(isLoaded){return{type:LOAD,isLoaded:isLoaded};};var setStatus=function setStatus(status){return{type:SET_STATUS,status:status};};export var setPost=function setPost(post){return{type:SET_POST,post:post};};export var setProfileThunk=function setProfileThunk(currentUser){return function(dispatch){dispatch(load(false));getProfile(currentUser).then(function(response){dispatch(load(true));dispatch(setProfile(response.data));});};};export var getProfileStatusThunk=function getProfileStatusThunk(currentUser){return function(dispatch){getProfileStatus(currentUser).then(function(response){dispatch(setStatus(response.data));});};};export var setProfileStatusThunk=function setProfileStatusThunk(status){return function(dispatch){setProfileStatus(status).then(function(response){if(response.data.resultCode===0){dispatch(setStatus(status));}});};};export default profileReducer;","map":{"version":3,"sources":["/Users/a000/Desktop/react-soc-2/my-react-app/src/redux/profile-reducer.js"],"names":["getProfile","getProfileStatus","setProfileStatus","GET_PROFILE","LOAD","SET_STATUS","SET_POST","initialState","profileInfo","isLoaded","status","posts","profileReducer","state","action","type","post","setProfile","load","setStatus","setPost","setProfileThunk","currentUser","dispatch","then","response","data","getProfileStatusThunk","setProfileStatusThunk","resultCode"],"mappings":"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","sourcesContent":["import { getProfile, getProfileStatus, setProfileStatus } from \"../components/api/api\"\n\nconst GET_PROFILE = 'GET_PROFILE'\nconst LOAD = 'LOAD'\nconst SET_STATUS = 'SET_STATUS'\nconst SET_POST = 'SET_POST'\n\nconst initialState = {\n    profileInfo: null,\n    isLoaded: false,\n    status: '',\n    posts: []\n}\n\nconst profileReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case GET_PROFILE:\n            return { ...state, profileInfo: { ...action.profileInfo } }\n        case LOAD:\n            return { ...state, isLoaded: action.isLoaded }\n        case SET_STATUS:\n            return { ...state, status: action.status}\n        case SET_POST: \n            return {...state, posts: [...state.posts, action.post]}\n        default: return state\n    }\n}\n\nconst setProfile = (profileInfo) => ({\n    type: GET_PROFILE,\n    profileInfo\n})\nconst load = (isLoaded) => ({\n    type: LOAD,\n    isLoaded\n})\nconst setStatus = (status) => ({\n    type: SET_STATUS,\n    status\n})\nexport const setPost = (post) => ({\n    type: SET_POST,\n    post\n})\n\nexport const setProfileThunk = (currentUser) => (dispatch) => {\n    dispatch(load(false))\n    getProfile(currentUser).then(response => {\n        dispatch(load(true))\n        dispatch(setProfile(response.data))\n    })\n}\n\nexport const getProfileStatusThunk = (currentUser) => (dispatch) => {\n    getProfileStatus(currentUser).then(response => {\n        dispatch(setStatus(response.data))\n    })\n}\nexport const setProfileStatusThunk = (status) => (dispatch) => {\n    setProfileStatus(status).then(response => {\n        if (response.data.resultCode === 0){\n            dispatch(setStatus(status))\n        }\n    })\n\n}\n\nexport default profileReducer"]},"metadata":{},"sourceType":"module"}