{"ast":null,"code":"import { logout } from \"../components/api/api\";\nconst GET_AUTH = 'GET_AUTH';\nconst LOGOUT = 'LOGOUT';\nconst initialState = {\n  id: null,\n  login: '',\n  email: '',\n  isAuth: false\n};\n\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case GET_AUTH:\n      return { ...state,\n        ...action.authInfo,\n        isAuth: true\n      };\n\n    case LOGOUT:\n      return { ...state,\n        isAuth: false,\n        id: null,\n        login: '',\n        email: ''\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const getAuth = authInfo => ({\n  type: GET_AUTH,\n  authInfo\n});\nexport const logoutAC = () => ({\n  type: LOGOUT\n});\nexport const logoutThunk = () => dispatch => {\n  logout().then(response => {\n    if (response.data.resultCode === 0) dispatch(logoutAC());\n  });\n};\nexport default authReducer;","map":{"version":3,"sources":["/Users/a000/Desktop/react-soc-2/my-react-app/src/redux/auth-reducer.js"],"names":["logout","GET_AUTH","LOGOUT","initialState","id","login","email","isAuth","authReducer","state","action","type","authInfo","getAuth","logoutAC","logoutThunk","dispatch","then","response","data","resultCode"],"mappings":"AAAA,SAASA,MAAT,QAAuB,uBAAvB;AAEA,MAAMC,QAAQ,GAAG,UAAjB;AACA,MAAMC,MAAM,GAAG,QAAf;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,EAAE,EAAE,IADa;AAEjBC,EAAAA,KAAK,EAAE,EAFU;AAGjBC,EAAAA,KAAK,EAAE,EAHU;AAIjBC,EAAAA,MAAM,EAAE;AAJS,CAArB;;AAOA,MAAMC,WAAW,GAAG,CAACC,KAAK,GAACN,YAAP,EAAqBO,MAArB,KAAgC;AAChD,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKV,QAAL;AACI,aAAO,EAAC,GAAGQ,KAAJ;AAAW,WAAGC,MAAM,CAACE,QAArB;AAA+BL,QAAAA,MAAM,EAAE;AAAvC,OAAP;;AACJ,SAAKL,MAAL;AACI,aAAO,EAAC,GAAGO,KAAJ;AAAWF,QAAAA,MAAM,EAAE,KAAnB;AAA0BH,QAAAA,EAAE,EAAE,IAA9B;AAAoCC,QAAAA,KAAK,EAAE,EAA3C;AAA+CC,QAAAA,KAAK,EAAE;AAAtD,OAAP;;AACJ;AAAS,aAAOG,KAAP;AALb;AAOH,CARD;;AAUA,OAAO,MAAMI,OAAO,GAAID,QAAD,KAAe;AAClCD,EAAAA,IAAI,EAAEV,QAD4B;AAElCW,EAAAA;AAFkC,CAAf,CAAhB;AAKP,OAAO,MAAME,QAAQ,GAAG,OAAO;AAC3BH,EAAAA,IAAI,EAAET;AADqB,CAAP,CAAjB;AAIP,OAAO,MAAMa,WAAW,GAAG,MAAOC,QAAD,IAAc;AAC3ChB,EAAAA,MAAM,GAAGiB,IAAT,CAAcC,QAAQ,IAAI;AACtB,QAAIA,QAAQ,CAACC,IAAT,CAAcC,UAAd,KAA6B,CAAjC,EAAoCJ,QAAQ,CAACF,QAAQ,EAAT,CAAR;AACvC,GAFD;AAGH,CAJM;AAMP,eAAeN,WAAf","sourcesContent":["import { logout } from \"../components/api/api\"\n\nconst GET_AUTH = 'GET_AUTH'\nconst LOGOUT = 'LOGOUT'\n\nconst initialState = {\n    id: null,\n    login: '',\n    email: '',\n    isAuth: false\n}\n\nconst authReducer = (state=initialState, action) => {\n    switch (action.type) {\n        case GET_AUTH:\n            return {...state, ...action.authInfo, isAuth: true}\n        case LOGOUT: \n            return {...state, isAuth: false, id: null, login: '', email: ''}\n        default: return state\n    }\n}\n\nexport const getAuth = (authInfo) => ({\n    type: GET_AUTH,\n    authInfo\n})\n\nexport const logoutAC = () => ({\n    type: LOGOUT\n})\n\nexport const logoutThunk = () => (dispatch) => {\n    logout().then(response => {\n        if (response.data.resultCode === 0) dispatch(logoutAC())\n    })\n}\n\nexport default authReducer"]},"metadata":{},"sourceType":"module"}